{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class='loading' id="loading">
    <img src="{% static 'img/loading.gif' %}" alt="loading">
</div>
<div class="container">
    <form method="post" action="{% url 'apitest:cubeinfo' %}" class='row' id='next'>
        {% csrf_token %}
        {% include  "apileftbox.html" %}
        <div class='col-lg-9'>
            {% include "form_errors.html" %}
            <div class='my-5'></div>
            <div class="my-3">
                <label for="Key">API Key(처음 이용시 조회하는데 약 30초~1분 정도 소요됩니다.)</label>
                <input type="text" class="form-control" name="Key" id="Key"
                    value="{{ form.username.value|default_if_none:'' }}">
            </div>
            <button type="submit" class="btn btn-primary">조회하기</button>
        </div>
    </form>
</div>
{% endblock %}
{% block script %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script type='text/javascript'>
    $('#loading').hide();
    $(document).ready(function() {
        $('#next').submit(function(){
            $('#loading').show();
            return true;
        });
    });
 </script>
{% endblock %}